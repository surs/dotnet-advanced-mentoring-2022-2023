¢&
—C:\workspace\dotNet mentoring advanced 2022\repo\dotnet-advanced-mentoring-2022-2023\dotNetMentoringAdvanced\CartingService.ConsoleInterface\Program.cs
using		 
IHost		 
host		 
=		 
Host		 
.		  
CreateDefaultBuilder		 ,
(		, -
args		- 1
)		1 2
.

 
ConfigureServices

 
(

 
(

 
context

 
,

  
services

! )
)

) *
=>

+ -
{ 
services 
. 	!
RegisterBusinessLayer	 
( 
)  
. 	
RegisterDataLayer	 
( 
) 
; 
} 
) 
. 
Build 

(
 
) 
; 
var 
cartingService 
= 
host 
. 
Services "
." #

GetService# -
<- .
ICartingService. =
>= >
(> ?
)? @
;@ A
if 
( 
cartingService 
== 
null 
) 
{ 
return 

;
 
} 
var 
cartId 

= 
Guid 
. 
NewGuid 
( 
) 
; 
Console 
. 
	WriteLine 
( 
$str .
). /
;/ 0
cartingService 
. 

CreateCart 
( 
cartId  
)  !
;! "
Console 
. 
	WriteLine 
( 
$str ,
), -
;- .
var 
item1 	
=
 
new 
Item 
( 
$num 
, 
$str 
,  
null! %
,% &
$num' ,
), -
;- .
var 
item2 	
=
 
new 
Item 
( 
$num 
, 
$str  
,  !
new" %
Image& +
(+ ,
$str, 1
,1 2
$str3 8
)8 9
,9 :
$num; @
)@ A
;A B
cartingService 
. 
AddItemToCart 
( 
cartId #
,# $
item1% *
,* +
$num, -
)- .
;. /
cartingService 
. 
AddItemToCart 
( 
cartId #
,# $
item2% *
,* +
$num, -
)- .
;. /
GetCartItems!! 
(!! 
cartingService!! 
,!! 
cartId!! #
)!!# $
;!!$ %
Console"" 
."" 
	WriteLine"" 
("" 
$str"" (
)""( )
;"") *
cartingService## 
.## 
RemoveItemFromCart## !
(##! "
cartId##" (
,##( )
item1##* /
,##/ 0
$num##1 2
)##2 3
;##3 4
GetCartItems$$ 
($$ 
cartingService$$ 
,$$ 
cartId$$ #
)$$# $
;$$$ %
Console%% 
.%% 
	WriteLine%% 
(%% 
$str%% +
)%%+ ,
;%%, -
cartingService&& 
.&& 
RemoveItemFromCart&& !
(&&! "
cartId&&" (
,&&( )
item2&&* /
,&&/ 0
$num&&1 2
)&&2 3
;&&3 4
GetCartItems'' 
('' 
cartingService'' 
,'' 
cartId'' #
)''# $
;''$ %
cartingService)) 
.)) 
RemoveItemFromCart)) !
())! "
cartId))" (
,))( )
item1))* /
,))/ 0
$num))1 2
)))2 3
;))3 4
static++ 
void++ 
GetCartItems++ 
(++ 
ICartingService++ (
?++( )
cartingService++* 8
,++8 9
Guid++: >
cartKey++? F
)++F G
{,, 
Console-- 
.-- 
	WriteLine-- 
(-- 
$str-- -
)--- .
;--. /
var.. 
items.. 
=.. 
cartingService.. 
?.. 
...  
GetCartItems..  ,
(.., -
cartKey..- 4
)..4 5
;..5 6
var// 
serializedItems// 
=// 
JsonConvert// %
.//% &
SerializeObject//& 5
(//5 6
items//6 ;
)//; <
;//< =
Console00 
.00 
	WriteLine00 
(00 
serializedItems00 %
)00% &
;00& '
}11 